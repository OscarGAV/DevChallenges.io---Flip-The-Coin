<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="icon"
      href="resources/favicon.ico"
      type="image/x-icon"
      sizes="96x96"
    />

    <link 
      href="https://fonts.googleapis.com/css2?family=Kanit:wght@600&display=swap" 
      rel="stylesheet"
    />

    <title>Flip the coin | devChallenges.io</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #404a65;
            font-family: 'Kanit', sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            text-align: center;
            max-width: 500px;
            width: 100%;
        }

        h1 {
            color: #ffffff;
            font-size: 64px;
            margin-bottom: 20px;
            font-weight: 600;
            text-shadow: 2px 2px 0px #35383f;
            -webkit-text-stroke-width: 5px;
            -webkit-text-stroke-color: #35383f;
        }

        .subtitle {
            color: #ffffff;
            font-size: 24px;
            margin-bottom: 50px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .coin-container {
            margin-bottom: 40px;
            perspective: 1000px;
        }

        .coin {
            width: 160px;
            height: 160px;
            margin: 0 auto 30px;
            position: relative;
            border-radius: 50%;
            background: transparent;
            display: block;
            cursor: pointer;
            transition: transform 0.3s ease;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }
        
        .coin img.side {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            display: block;
            object-fit: contain;
            border-radius: 50%;
            pointer-events: none;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .coin:hover {
            transform: scale(1.05);
        }

        .coin.flipping {
            animation: flip 0.6s ease-in-out;
        }

        @keyframes flip {
            0% {
                transform: rotateY(0) rotateX(0);
            }
            50% {
                transform: rotateY(180deg) rotateX(10deg);
            }
            100% {
                transform: rotateY(360deg) rotateX(0);
            }
        }

        .result {
            color: #ffffff;
            font-size: 48px;
            font-weight: 600;
            margin-bottom: 40px;
            letter-spacing: 1px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .flip-button {
            background-color: #1f6fb0;
            color: #ffffff;
            border: none;
            padding: 15px 50px;
            font-size: 20px;
            font-family: 'Kanit', sans-serif;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0px 4px 0px 0px #23649b;
            transition: transform 0.1s ease, box-shadow 0.1s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .flip-button:hover {
            transform: translateY(-2px);
            box-shadow: 0px 6px 0px 0px #23649b;
        }

        .flip-button:active {
            transform: translateY(4px);
            box-shadow: 0px 0px 0px 0px #23649b;
        }

        .flip-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 48px;
                -webkit-text-stroke-width: 3px;
            }

            .subtitle {
                font-size: 18px;
            }

            .coin {
                width: 120px;
                height: 120px;
                font-size: 40px;
            }

            .result {
                font-size: 36px;
            }

            .flip-button {
                padding: 12px 40px;
                font-size: 18px;
            }
        }
    </style>
  </head>
  
  <body>
    <div class="container">
        <h1>Flip the coin</h1>
        <p class="subtitle">Press the coin or the button to flip the coin</p>
        
        <div class="coin-container">
            <div class="coin" id="coin">
                <img src="resources/heads.svg" alt="Heads" id="headsImg" class="side" />
                <img src="resources/tails.svg" alt="Tails" id="tailsImg" class="side" style="display:none" />
            </div>
            <img src="resources/shadow.svg" alt="shadow" />
        </div>

        <div class="result" id="result"></div>

        <button class="flip-button" id="flipBtn">RANDOM</button>
    </div>

    <script>
        const coin = document.getElementById('coin');
        const headsImg = document.getElementById('headsImg');
        const tailsImg = document.getElementById('tailsImg');
        const flipBtn = document.getElementById('flipBtn');
        const result = document.getElementById('result');
        let isFlipping = false;

        // Inicial: mostrar heads
        headsImg.style.display = 'block';
        tailsImg.style.display = 'none';

        function performFlip() {
            if (isFlipping) return;

            isFlipping = true;
            flipBtn.disabled = true;
            result.textContent = '';

            // Add flipping animation
            coin.classList.add('flipping');

            // Simulate flip duration
            setTimeout(() => {
                const isHeads = Math.random() < 0.5;
                if (isHeads) {
                    headsImg.style.display = 'block';
                    tailsImg.style.display = 'none';
                    result.textContent = 'Heads';
                } else {
                    headsImg.style.display = 'none';
                    tailsImg.style.display = 'block';
                    result.textContent = 'Tails';
                }

                coin.classList.remove('flipping');
                isFlipping = false;
                flipBtn.disabled = false;
            }, 600);
        }

        // Event listeners
        flipBtn.addEventListener('click', performFlip);
        coin.addEventListener('click', performFlip);
    </script>
  </body>
</html>
